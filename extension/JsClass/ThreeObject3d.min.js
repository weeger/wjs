// @require JsClass > MathQuaternion
// @require JsClass > MathEuler
// @require JsClass > MathVector3
// @require JsClass > MathMatrix4
(function(d){d.register("JsClass","ThreeObject3d",{__construct:function(){this.parent=void 0;this.up=new (this.wjs.classProto("MathVector3"))(0,1,0);var a=new (this.wjs.classProto("MathVector3")),b=new (this.wjs.classProto("MathEuler")),c=new (this.wjs.classProto("MathQuaternion")),d=new (this.wjs.classProto("MathVector3"))(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,
value:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d}});this.matrix=new (this.wjs.classProto("MathMatrix4"));this.matrixWorld=new (this.wjs.classProto("MathMatrix4"));this.rotateXv1=new (this.wjs.classProto("MathVector3"))(1,0,0);this.rotateYv1=new (this.wjs.classProto("MathVector3"))(0,1,0);this.rotateZv1=new (this.wjs.classProto("MathVector3"))(0,0,1);this.rotateOnAxisQ1=new (this.wjs.classProto("MathQuaternion"))(0,0,1);this.translateXv1=new (this.wjs.classProto("MathVector3"))(1,
0,0);this.translateYv1=new (this.wjs.classProto("MathVector3"))(0,1,0);this.translateZv1=new (this.wjs.classProto("MathVector3"))(0,0,1);this.lookAtm1=new (this.wjs.classProto("MathMatrix4"));this.translateOnAxisV1=new (this.wjs.classProto("MathVector3"))(0,0,1);this.worldToLocalM1=new (this.wjs.classProto("MathMatrix4"))},rotateOnAxis:function(a,b){this.rotateOnAxisQ1.setFromAxisAngle(a,b);this.quaternion.multiply(this.rotateOnAxisQ1);return this},rotateX:function(a){return this.rotateOnAxis(this.rotateXv1,
a)},rotateY:function(a){return this.rotateOnAxis(this.rotateYv1,a)},rotateZ:function(a){return this.rotateOnAxis(this.rotateZv1,a)},translateOnAxis:function(a,b){this.translateOnAxisV1.copy(a).applyQuaternion(this.quaternion);this.position.add(this.translateOnAxisV1.multiplyScalar(b));return this},translateX:function(a){return this.translateOnAxis(this.translateXv1,a)},translateY:function(a){return this.translateOnAxis(this.translateYv1,a)},translateZ:function(a){return this.translateOnAxis(this.translateZv1,
a)},worldToLocal:function(a){return a.applyMatrix4(this.worldToLocalM1.getInverse(this.matrixWorld))},lookAt:function(a){this.lookAtm1.lookAt(a,this.position,this.up);this.quaternion.setFromRotationMatrix(this.lookAtm1)},getWorldPosition:function(a){a=a||new (this.wjs.classProto("MathVector3"));this.updateMatrixWorld();return a.setFromMatrixPosition(this.matrixWorld)},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale)},updateMatrixWorld:function(){this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix):this.matrixWorld.copy(this.matrix)}})})(W);
